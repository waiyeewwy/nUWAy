{% extends "adminbase.html" %}

{% block content %}
<link rel = 'stylesheet' href = '../static/css/approval.css'>

<h2 class="pagetitle">Feedback Approval</h2>

<div class="container-holder">
    <div class="container-fluid text-center" id="container">
        <div class="row">
            <div class="col-6 d-flex text-center">
                <h6>Feedback</h6>
            </div>
            <div class="col-3 d-flex text-center">
                <h6>Username</h6>
            </div>
            <div class="col-3 d-flex text-center">
                <h6>Post on webpage</h6>
            </div>
        </div>
    </div>
    
    {% for feedback in feedbacks %}

    <div id="feedback.id" class="row">
        {% if feedback.approved is sameas True %}
        {% else %}
        <div class="col-6 d-flex">
            <p style="margin:auto;">{{feedback.feeback}}</p>
        </div>
        <div class="col-3 d-flex">
            <p style="margin:auto;">{{feedback.name}}</p>
        </div>
        <div class="col-3 d-flex">
            <p style="margin:auto">
                <button class="btn btn-success" onclick="approveFeedback('{{feedback.id}}')">Post</button>
                <button class="delete btn btn-danger" onclick="dismissFeedback('{{feedback.id}}')">Dismiss</button>
            </p>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</div>


<script>
    /**
    function approveFeedback(feedbackid){
        //removing user on front end using DOM
        removeUser = document.getElementById(userid)
        parent = document.getElementById('container')
        parent.removeChild(removeUser)

        var target = JSON.stringify(userid)
        $.ajax({
            url: 'approveUser',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(target)
        })
    }

    function dismissFeedback(feedbackid){
        //removing user on front end using DOM
        removeUser = document.getElementById(userid)
        parent = document.getElementById('container')
        parent.removeChild(removeUser)

        var target = JSON.stringify(userid)
        $.ajax({
            url: 'denyUser',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(target)
        })
    }
    */
</script>

{% endblock %}